<div class="background-des">
    <div class="form-card">
        <h1>Connexion</h1>
        <form [formGroup]="loginForm">
            <div class="form-group mb-4">
                <input type="text" formControlName="email" class="form-control"
                    [ngClass]="{'red-border' : loginForm.get('email').invalid && loginForm.get('email').dirty}"
                    placeholder="Email" />
                <div *ngIf="loginForm.get('email').invalid && loginForm.get('email').dirty" class="error-label">
                    <div
                        *ngIf="loginForm.get('email').hasError('required') && loginForm.get('email').dirty">
                        <i class="fa fa-exclamation-circle"></i> {{validations.email.requiredMessage}}
                    </div>
                    <div *ngIf="loginForm.get('email').hasError('pattern') && loginForm.get('email').dirty">
                        <i class="fa fa-exclamation-circle"></i> {{validations.email.invalidMailMessage}}
                    </div>
                </div>
            </div>

            <div class="form-group mb-4">
                <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control"
                    [ngClass]="{'red-border' : loginForm.get('password').invalid && loginForm.get('password').dirty }"
                    placeholder="Mot de passe">
                <i [ngClass]="showPassword ? 'fa fa-eye field-icon' : 'fa fa-eye-slash field-icon'" (click)="togglePasswordVisibility()"></i>

                <div *ngIf="loginForm.get('password').invalid && loginForm.get('password').dirty" class="error-label">
                    <div
                        *ngIf="(loginForm.get('password').hasError('pattern') || loginForm.get('password').hasError('required')) && loginForm.get('password').dirty">
                        <i class="fa fa-exclamation-circle"></i> {{validations.password.requiredMessage}}
                    </div>
                </div>
            </div>

            <div class="form-group text-center">
                <button [disabled]="loginForm.invalid" class="btn btn-blue btn-flat" (click)="submit()">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                    Connexion
                </button>
            </div>
            <div class="row">
                <div class="col-md-9">
                    <a routerLink="/signup" class="small-link">Vous n'avez pas de compte? Enregistrez-vous</a>
                </div>
            </div>
        </form>
    </div>
</div>